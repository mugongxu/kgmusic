{"version":3,"sources":["utils/ajax.js","utils/utils.js","components/common/songsPlay.jsx","components/common/songsList.jsx","plugins/swiper/custom.js","views/newSong/index.jsx","views/rank/index.jsx","views/rank/info.jsx","views/plist/index.jsx","views/plist/info.jsx","views/singer/index.jsx","views/singer/list.jsx","views/singer/info.jsx","views/search/index.jsx","router/index.js","components/pageHeader.jsx","components/mainContainer.jsx","App.js","index.js"],"names":["ajax","axios","create","timeout","interceptors","request","use","config","Object","objectSpread","response","status","Promise","reject","concat","data","errorMessage","error","utils","s","Number","toFixed","mm","Math","floor","ss","SongsPlay","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","hash","songInfo","songsList","index","pause","currentTime","currentTimeStr","duration","durationStr","lyricsList","ftPlayer","React","createRef","panelPlay","panelPlayLrc","songTimer","currentIndex","pauseSong","bind","assertThisInitialized","nextSong","prevSong","downloadSong","showPanelPlay","goBack","listenSongPlayEnd","listenSongOnPlay","_this2","setState","getSongInfo","item","current","style","display","get","params","url","imgUrl","replace","album_img","kumaoPlayer","document","getElementById","src","backup_url","console","log","play","lyricsArr","lyrics","split","newLyricsArr","forEach","temp","time","timestamp","push","_this3","length","_this4","len","_this5","addEventListener","_this6","scrollTop","_this7","_react_16_7_0_react_default","a","createElement","className","ref","onClick","onError","alt","filename","singerName","backgroundImage","id","map","nextTimestamp","key","width","height","controls","Component","SongsList","rank","playBox","e","showFtPlayer","numMap","playSongs","common_songsPlay","require","ReactIdSwiper","renderContent","buildSwiper","swiper","_this$props","rebuildOnUpdate","shouldSwiperUpdate","activeSlideKey","rebuildSwiper","updateSwiper","numSlides","slides","activeIndex","max","slideTo","activeSlideId","Children","children","child","destroy","Swiper","ReactDOM","findDOMNode","objectAssign","update","_this$props2","slideClass","noSwiping","slideClassNames","cloneElement","join","trim","_this$props3","ContainerEl","WrapperEl","containerClass","wrapperClass","rtl","scrollbar","renderScrollbar","pagination","renderPagination","navigation","renderPrevButton","renderNextButton","dir","el","nextEl","prevEl","defaultProps","_ref","cn","_ref2","_ref3","_ref4","SwiperPage","bannerList","custom_ReactIdSwiper","type","clickable","imgurl","title","NewSong","dataInfo","recommend","toConsumableArray","banner","list","newSong_SwiperPage","RankList","rankList","rankid","NavLink","to","pathname","rankname","hideTop","RankSongList","rankId","match","bannerurl","songList","page","json","info","banner7url","format","PlistList","plistList","total","pagesize","getPlistList","onscroll","removeEventListener","concatArr","documentElement","body","clientHeight","scrollHeight","oldPage","newPage","specialid","specialname","playcount","PlistSongList","plistInfo","ClassListNav","classList","classid","classname","SingerClass","newClassList","splice","ceil","i","tempArr","j","singer_ClassListNav","SingerList","singerList","classId","singerId","SingerSongList","singerid","singerInfo","getSongsList","pageSize","Search","hotSearchList","searchResultList","keyword","handleChange","event","target","value","plat","count","searchSong","resultLength","name","placeholder","onChange","searchHot","navRouter","path","component","model","routeConfig","HeaderNav","exact","activeClassName","HeaderGoBack","location","history","PageHeader","Route","MainContainer","marginTop","render","App","BrowserRouter","components_pageHeader","mainContainer","src_App_0"],"mappings":"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","file":"static/js/main.4bffc86d.chunk.js","sourcesContent":["/**\r\n * 通用AJAX客户端\r\n */\r\nimport axios from 'axios';\r\n\r\nconst ajax = axios.create({\r\n  timeout: 10000\r\n});\r\n\r\najax.interceptors.request.use((config) => {\r\n  const newConf = { ...config };\r\n  // 在这里做请求头定制处理\r\n  return newConf;\r\n});\r\n\r\najax.interceptors.response.use((response) => {\r\n  // 在这里可以对返回做统一错误拦截\r\n  if (response.status !== 200) {\r\n    return Promise.reject(`Http 状态异常 ${response.status}`);\r\n  }\r\n  if (response.data.status !== 0) {\r\n    return Promise.reject(response.data.errorMessage);\r\n  }\r\n  return response.data;\r\n}, (error) => {\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport default ajax;\r\n","/**\r\n * 公共方法\r\n */\r\nexport default {\r\n  secondTommss(s) {\r\n    s = Number(s.toFixed(0));\r\n    if (!s) {\r\n      return '00:00';\r\n    } else {\r\n      let mm = Math.floor(s / 60);\r\n      let ss = s - mm * 60;\r\n      return (mm > 9 ? mm : '0' + mm) + ':' + (ss > 9 ? ss : '0' + ss);\r\n    }\r\n  }\r\n};\r\n","import React, { Component } from 'react';\r\nimport { ajax, utils } from '@/utils';\r\nimport '@/assets/scss/songsPlay.scss';\r\n\r\nclass SongsPlay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hash: '',\r\n      songInfo: {},\r\n      songsList: [],\r\n      index: 0,\r\n      pause: false,\r\n      currentTime: 0,\r\n      currentTimeStr: '00:00',\r\n      duration: 0,\r\n      durationStr: '00:00',\r\n      lyricsList: []\r\n    };\r\n    this.ftPlayer = React.createRef();\r\n    this.panelPlay = React.createRef();\r\n    this.panelPlayLrc = React.createRef();\r\n    this.songTimer = null;\r\n    this.currentIndex = 0;\r\n    // 事件绑定\r\n    this.pauseSong = this.pauseSong.bind(this);\r\n    this.nextSong = this.nextSong.bind(this);\r\n    this.prevSong = this.prevSong.bind(this);\r\n    this.downloadSong = this.downloadSong.bind(this);\r\n    this.showPanelPlay = this.showPanelPlay.bind(this);\r\n    this.goBack = this.goBack.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 监听\r\n    this.listenSongPlayEnd();\r\n    this.listenSongOnPlay();\r\n  }\r\n\r\n  showFtPlayer(songsList, index) {\r\n    this.setState({\r\n      songsList,\r\n      index\r\n    }, () => {\r\n      this.getSongInfo();\r\n    });\r\n  }\r\n  \r\n  // 获取歌曲信息\r\n  async getSongInfo() {\r\n    this.currentIndex = 0;\r\n    let item = this.state.songsList[this.state.index];\r\n    this.ftPlayer.current.style.display = 'block';\r\n    const hash = item.hash;\r\n    this.setState({\r\n      hash: hash\r\n    });\r\n    // 数据请求\r\n    const response = await ajax.get('/km/song/detail', {\r\n      params: {\r\n        hash: hash\r\n      }\r\n    });\r\n    const data = response.data || {};\r\n    // 不存在播放链接则播放下一个\r\n    if (!data.url) {\r\n      this.nextSong();\r\n      return;\r\n    }\r\n    data.imgUrl = data.imgUrl.replace('{size}', '400');\r\n    data.album_img = data.album_img.replace('{size}', '400');\r\n    this.setState({\r\n      songInfo: { ...data },\r\n      pause: false\r\n    });\r\n    // 自动播放音乐\r\n    let kumaoPlayer = document.getElementById('kumao');\r\n    kumaoPlayer.src = data.backup_url[0] || data.url || '';\r\n    console.log(kumaoPlayer.src);\r\n    kumaoPlayer.play();\r\n    // 歌词处理\r\n    let lyricsArr = data.lyrics.split(/\\n/);\r\n    let newLyricsArr = [];\r\n    lyricsArr.forEach(item => {\r\n      if (!item) return;\r\n      let temp = item.split(']');\r\n      let time = (temp[0] || '').replace('[', '').split(':');\r\n      let timestamp = (Number(time[0] || 0) * 60 + Number(time[1] || 0)).toFixed(2);\r\n      newLyricsArr.push({\r\n        timestamp: Number(timestamp),\r\n        lyrics: temp[1] || ''\r\n      });\r\n    });\r\n    this.setState({\r\n      lyricsList: newLyricsArr\r\n    });\r\n  }\r\n\r\n  pauseSong() {\r\n    let kumaoPlayer = document.getElementById('kumao');\r\n    let pause = this.state.pause;\r\n    if (pause) {\r\n      kumaoPlayer.play();\r\n    } else {\r\n      kumaoPlayer.pause();\r\n    }\r\n    this.setState({\r\n      pause: !pause\r\n    });\r\n  }\r\n\r\n  nextSong() {\r\n    let index = this.state.index;\r\n    let len = this.state.songsList.length;\r\n    index = index < len - 1 ? index + 1 : 0;\r\n    this.setState({\r\n      index\r\n    }, () => {\r\n      this.getSongInfo();\r\n    });\r\n  }\r\n\r\n  prevSong() {\r\n    let index = this.state.index;\r\n    let len = this.state.songsList.length;\r\n    index = index ? index - 1 : len - 1;\r\n    this.setState({\r\n      index\r\n    }, () => {\r\n      this.getSongInfo();\r\n    });\r\n  }\r\n\r\n  downloadSong() {}\r\n\r\n  // 监听歌曲是否播完\r\n  listenSongPlayEnd() {\r\n    let kumaoPlayer = document.getElementById('kumao');\r\n    kumaoPlayer.addEventListener('ended', () => {\r\n      this.nextSong();\r\n    }, false);\r\n  }\r\n\r\n  // 监控正在播放\r\n  listenSongOnPlay() {\r\n    let kumaoPlayer = document.getElementById('kumao');\r\n    kumaoPlayer.addEventListener('timeupdate', () => {\r\n      // console.log(kumaoPlayer.duration, kumaoPlayer.currentTime);\r\n      const currentTime = Number(kumaoPlayer.currentTime.toFixed(2));\r\n      const duration = kumaoPlayer.duration;\r\n      this.setState({\r\n        currentTime: currentTime,\r\n        duration: duration,\r\n        currentTimeStr: utils.secondTommss(currentTime),\r\n        durationStr: utils.secondTommss(duration)\r\n      }, () => {\r\n        this.panelPlayLrc.current.scrollTop = this.currentIndex\r\n          ? ((this.currentIndex - 1) * 1.7857 * 16)\r\n          : 0;\r\n      });\r\n    });\r\n  }\r\n\r\n  showPanelPlay() {\r\n    this.panelPlay.current.style.display = 'block';\r\n  }\r\n  \r\n  goBack() {\r\n    this.panelPlay.current.style.display = 'none';\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"songs-play-wrapper\">\r\n        <div className=\"ft-player\" ref={this.ftPlayer}>\r\n          <div className=\"ft-go-info\" onClick={this.showPanelPlay}>\r\n            <div className=\"ft-left\">\r\n              <img\r\n                src={this.state.songInfo.imgUrl}\r\n                onError={() => this.src=this.state.songInfo.album_img}\r\n                alt=\"\" />\r\n            </div>\r\n            <div className=\"ft-center\">\r\n              <p className=\"ft-desc\">{this.state.songInfo.filename}</p>\r\n              <p className=\"ft-sub-desc\">{this.state.songInfo.singerName}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"ft-right\">\r\n            <i className={\r\n              this.state.pause\r\n                ? 'btn-play'\r\n                : 'btn-pause'\r\n            } onClick={this.pauseSong}></i>\r\n            <i className=\"btn-next\" onClick={this.nextSong}></i>\r\n            <i className=\"ft-icon-download\" onClick={this.downloadSong}></i>\r\n          </div>\r\n        </div>\r\n        {/* 全屏播放 */}\r\n        <div className=\"panel-play\" ref={this.panelPlay}>\r\n          <div className=\"bg-overlay\" style={{\r\n            backgroundImage: `url(\"${this.state.songInfo.album_img || this.state.songInfo.imgUrl}\")`\r\n          }}></div>\r\n          <div className=\"play-overlay\"></div>\r\n          <div className=\"top-fixes\">\r\n            <p className=\"title\" id=\"title\">{this.state.songInfo.filename}</p>\r\n            <div className=\"goback\" onClick={this.goBack}>\r\n              <i></i>\r\n            </div>\r\n          </div>\r\n          <div className=\"panel-play-bd\">\r\n            <div className=\"panel-play-img-box\">\r\n              <img\r\n                src={this.state.songInfo.album_img}\r\n                onError={() => this.src=this.state.songInfo.imgUrl}\r\n                alt=\"\" />\r\n            </div>\r\n            <div className=\"panel-play-lrc-box\">\r\n              <div className=\"panel-play-lrc\" ref={this.panelPlayLrc}>\r\n                {\r\n                  this.state.lyricsList.map((item, index) => {\r\n                    let className = '';\r\n                    let timestamp = item.timestamp;\r\n                    let currentTime = this.state.currentTime;\r\n                    let nextTimestamp = this.state.lyricsList[index + 1] ? this.state.lyricsList[index + 1].timestamp : this.state.duration;\r\n                    if (currentTime >= timestamp && currentTime < nextTimestamp) {\r\n                      className = 'current';\r\n                      this.currentIndex = index;\r\n                    }\r\n                    return (<p key={index} className={className}>{item.lyrics}</p>);\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n            <div className=\"time-wrap\">\r\n              <div className=\"timeshow\">{this.state.currentTimeStr}</div>\r\n              <div className=\"progress-wrap\">\r\n                <div className=\"progress-bar\">\r\n                  <div className=\"preview-progress\"></div>\r\n                  <div className=\"progress\" style={{\r\n                    width: `${this.state.currentTime / this.state.duration * 100}%`\r\n                  }}>\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"time\">{this.state.durationStr}</div>\r\n            </div>\r\n            <div className=\"play-operate\">\r\n              <i className=\"btn-prev\" onClick={this.prevSong}></i>\r\n              <i className={\r\n                this.state.pause\r\n                  ? 'btn-play'\r\n                  : 'btn-pause'\r\n              } onClick={this.pauseSong}></i>\r\n              <i className=\"btn-next\" onClick={this.nextSong}></i> \r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* 播放控件 */}\r\n        <div id=\"player\" className=\"player\">\r\n          <audio id=\"kumao\" width=\"100%\" height=\"100%\" controls></audio>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SongsPlay;\r\n","import React, { Component } from 'react';\r\nimport SongsPlay from './songsPlay';\r\nimport '@/assets/scss/songList.scss';\r\n\r\nclass SongsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rank: props.rank\r\n    };\r\n    this.playBox = React.createRef();\r\n  }\r\n\r\n  playSongs(index, e) {\r\n    this.playBox.current.showFtPlayer(this.props.songsList, index);\r\n  }\r\n\r\n  render() {\r\n    const numMap = ['one', 'two', 'three'];\r\n    return (\r\n      <div>\r\n        <ul className={this.state.rank ? 'songslist rank-songsList' : 'songslist'}>\r\n          {\r\n            this.props.songsList.map((item, index) =>\r\n              <li key={index} className=\"songslist-item\" onClick={this.playSongs.bind(this, index)}>\r\n                <div className=\"songs-item-name\">\r\n                  <span>{item.filename}</span>\r\n                </div>\r\n                <div className=\"songs-item-download\">\r\n                  <i></i>\r\n                </div>\r\n                {\r\n                  this.state.rank\r\n                    ? (<span\r\n                        className={numMap[index] ? ('songs-item-num ' + numMap[index]) : 'songs-item-num'}>\r\n                        {index+1}\r\n                      </span>)\r\n                    : ''\r\n                }\r\n              </li>\r\n            )\r\n          }\r\n        </ul>\r\n        {/* 音乐播放框 */}\r\n        <SongsPlay ref={this.playBox} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SongsList;\r\n","/*\n  NOTE: Custom version won't support those features below\n  - Virtual\n  - Keyboard\n  - Mouse wheel\n  - Zoom\n  - Lazy load image\n  - A11y\n  - Parallax\n  - History\n  - Hash-navigation\n  - Effect-cube\n  - Effect-flip\n  - Effect-coverflow\n\n  #Referer link: http://idangero.us/swiper/api/#custom-build\n*/\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport objectAssign from 'object-assign';\nimport PropTypes from 'prop-types';\nimport Swiper from 'react-id-swiper/src/swiper/custom';\nimport { cn } from 'react-id-swiper/src/utils';\n\nrequire('react-id-swiper/src/styles/scss/swiper.scss');\n\nexport default class ReactIdSwiper extends Component {\n  // Default props\n  static defaultProps = {\n    containerClass: 'swiper-container',\n    wrapperClass: 'swiper-wrapper',\n    slideClass: 'swiper-slide',\n    ContainerEl: 'div',\n    WrapperEl: 'div',\n    renderScrollbar: ({ scrollbar }) => <div className={cn(scrollbar.el)} />,\n    renderPagination: ({ pagination }) => <div className={cn(pagination.el)} />,\n    renderPrevButton: ({ navigation }) => <div className={cn(navigation.prevEl)} />,\n    renderNextButton: ({ navigation }) => <div className={cn(navigation.nextEl)} />\n  };\n\n  // Proptypes\n  static propTypes = {\n    // react-id-swiper original parameters\n    ContainerEl: PropTypes.string,\n    WrapperEl: PropTypes.string,\n    containerClass: PropTypes.string,\n    wrapperClass: PropTypes.string,\n    children: PropTypes.any,\n    rebuildOnUpdate: PropTypes.bool,\n    shouldSwiperUpdate: PropTypes.bool,\n    activeSlideKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    renderScrollbar: PropTypes.func,\n    renderPagination: PropTypes.func,\n    renderPrevButton: PropTypes.func,\n    renderNextButton: PropTypes.func,\n    renderParallax: PropTypes.func,\n\n    // swiper parameter\n    init: PropTypes.bool,\n    initialSlide: PropTypes.number,\n    direction: PropTypes.string,\n    rtl: PropTypes.bool,\n    speed: PropTypes.number,\n    setWrapperSize: PropTypes.bool,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    autoHeight: PropTypes.bool,\n    roundLengths: PropTypes.bool,\n    nested: PropTypes.bool,\n    uniqueNavElements: PropTypes.bool,\n    effect: PropTypes.string,\n    runCallbacksOnInit: PropTypes.bool,\n\n    // slides grid\n    spaceBetween: PropTypes.number,\n    slidesPerView: PropTypes.any,\n    slidesPerColumn: PropTypes.number,\n    slidesPerColumnFill: PropTypes.string,\n    slidesPerGroup: PropTypes.number,\n    centeredSlides: PropTypes.bool,\n    slidesOffsetBefore: PropTypes.number,\n    slidesOffsetAfter: PropTypes.number,\n    normalizeSlideIndex: PropTypes.bool,\n\n    // grab cursor\n    grabCursor: PropTypes.bool,\n\n    // touches\n    touchEventsTarget: PropTypes.string,\n    touchRatio: PropTypes.number,\n    touchAngle: PropTypes.number,\n    simulateTouch: PropTypes.bool,\n    shortSwipes: PropTypes.bool,\n    longSwipes: PropTypes.bool,\n    longSwipesRatio: PropTypes.number,\n    longSwipesMs: PropTypes.number,\n    followFinger: PropTypes.bool,\n    allowTouchMove: PropTypes.bool,\n    threshold: PropTypes.number,\n    touchMoveStopPropagation: PropTypes.bool,\n    iOSEdgeSwipeDetection: PropTypes.bool,\n    iOSEdgeSwipeThreshold: PropTypes.number,\n    touchReleaseOnEdges: PropTypes.bool,\n    passiveListeners: PropTypes.bool,\n\n    // touch resistance\n    resistance: PropTypes.bool,\n    resistanceRatio: PropTypes.number,\n\n    // swiping / no swiping\n    allowSlidePrev: PropTypes.bool,\n    allowSlideNext: PropTypes.bool,\n    noSwiping: PropTypes.bool,\n    noSwipingClass: PropTypes.string,\n    swipeHandler: PropTypes.any,\n\n    // clicks\n    preventClicks: PropTypes.bool,\n    preventClicksPropagation: PropTypes.bool,\n    slideToClickedSlide: PropTypes.bool,\n\n    // freemode\n    freeMode: PropTypes.bool,\n    freeModeMomentum: PropTypes.bool,\n    freeModeMomentumRatio: PropTypes.number,\n    freeModeMomentumVelocityRatio: PropTypes.number,\n    freeModeMomentumBounce: PropTypes.bool,\n    freeModeMomentumBounceRatio: PropTypes.number,\n    freeModeMinimumVelocity: PropTypes.number,\n    freeModeSticky: PropTypes.bool,\n\n    // progress\n    watchSlidesProgress: PropTypes.bool,\n    watchSlidesVisibility: PropTypes.bool,\n\n    // images\n    preloadImages: PropTypes.bool,\n    updateOnImagesReady: PropTypes.bool,\n\n    // loop\n    loop: PropTypes.bool,\n    loopAdditionalSlides: PropTypes.number,\n    loopedSlides: PropTypes.number,\n    loopFillGroupWithBlank: PropTypes.bool,\n\n    // breakpoints\n    breakpoints: PropTypes.object,\n\n    // observer\n    observer: PropTypes.bool,\n    observeParents: PropTypes.bool,\n\n    // namespace\n    containerModifierClass: PropTypes.string,\n    slideClass: PropTypes.string,\n    slideActiveClass: PropTypes.string,\n    slideDuplicatedActiveClass: PropTypes.string,\n    slideVisibleClass: PropTypes.string,\n    slideDuplicateClass: PropTypes.string,\n    slideNextClass: PropTypes.string,\n    slideDuplicatedNextClass: PropTypes.string,\n    slidePrevClass: PropTypes.string,\n    slideDuplicatedPrevClass: PropTypes.string,\n\n    // autoplay\n    autoplay: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.shape({\n        delay: PropTypes.number,\n        stopOnLast: PropTypes.bool,\n        disableOnInteraction: PropTypes.bool\n      })\n    ]),\n\n    // pagination\n    pagination: PropTypes.shape({\n      el: PropTypes.string,\n      type: PropTypes.string,\n      bulletElement: PropTypes.string,\n      dynamicBullets: PropTypes.bool,\n      hideOnClick: PropTypes.bool,\n      clickable: PropTypes.bool,\n      renderBullet: PropTypes.func,\n      renderFraction: PropTypes.func,\n      renderProgressbar: PropTypes.func,\n      renderCustom: PropTypes.func,\n      bulletClass: PropTypes.string,\n      bulletActiveClass: PropTypes.string,\n      modifierClass: PropTypes.string,\n      currentClass: PropTypes.string,\n      totalClass: PropTypes.string,\n      hiddenClass: PropTypes.string,\n      progressbarFillClass: PropTypes.string,\n      clickableClass: PropTypes.string\n    }),\n\n    // scrollbar\n    scrollbar: PropTypes.shape({\n      el: PropTypes.any,\n      hide: PropTypes.bool,\n      draggable: PropTypes.bool,\n      snapOnRelease: PropTypes.bool,\n      dragSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    }),\n\n    // navigation\n    navigation: PropTypes.shape({\n      nextEl: PropTypes.string,\n      prevEl: PropTypes.string,\n      hideOnClick: PropTypes.bool,\n      disabledClass: PropTypes.string,\n      hiddenClass: PropTypes.string\n    }),\n\n    // fadeEffect\n    fadeEffect: PropTypes.shape({\n      crossFade: PropTypes.bool\n    }),\n\n    // controller\n    controller: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.shape({\n        control: PropTypes.any,\n        inverse: PropTypes.bool,\n        by: PropTypes.string\n      })\n    ]),\n\n    // events\n    on: PropTypes.shape({\n      init: PropTypes.func,\n      beforeDestroy: PropTypes.func,\n      slideChange: PropTypes.func,\n      slideChangeTransitionStart: PropTypes.func,\n      slideChangeTransitionEnd: PropTypes.func,\n      slideNextTransitionStart: PropTypes.func,\n      slideNextTransitionEnd: PropTypes.func,\n      slidePrevTransitionStart: PropTypes.func,\n      slidePrevTransitionEnd: PropTypes.func,\n      transitionStart: PropTypes.func,\n      onTransitionEnd: PropTypes.func,\n      touchStart: PropTypes.func,\n      touchMove: PropTypes.func,\n      touchMoveOpposite: PropTypes.func,\n      sliderMove: PropTypes.func,\n      touchEnd: PropTypes.func,\n      click: PropTypes.func,\n      tap: PropTypes.func,\n      doubleTap: PropTypes.func,\n      imagesReady: PropTypes.func,\n      progress: PropTypes.func,\n      reachBeginning: PropTypes.func,\n      reachEnd: PropTypes.func,\n      fromEdge: PropTypes.func,\n      setTranslate: PropTypes.func,\n      setTransition: PropTypes.func,\n      resize: PropTypes.func\n    })\n  };\n\n  constructor(props) {\n    super(props);\n    this.renderContent = this.renderContent.bind(this);\n  }\n\n  componentDidMount() {\n    this.buildSwiper();\n  }\n\n  componentDidUpdate() {\n    if (typeof this.swiper === 'undefined') return;\n    const { rebuildOnUpdate, shouldSwiperUpdate, activeSlideKey } = this.props;\n\n    if (rebuildOnUpdate) {\n      this.rebuildSwiper();\n    } else if (shouldSwiperUpdate) {\n      this.updateSwiper();\n\n      const numSlides = this.swiper.slides.length;\n      if (numSlides <= this.swiper.activeIndex) {\n        const index = Math.max(numSlides - 1, 0);\n        this.swiper.slideTo(index);\n      }\n    }\n\n    if (activeSlideKey) {\n      let activeSlideId = null;\n      let id = 0;\n\n      React.Children.forEach(this.props.children, child => {\n        if (child) {\n          if (child.key === activeSlideKey) {\n            activeSlideId = id;\n          }\n          id += 1;\n        }\n      });\n\n      if (activeSlideId !== null) {\n        this.swiper.slideTo(activeSlideId);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (typeof this.swiper !== 'undefined') this.swiper.destroy(true, true);\n    delete this.swiper;\n  }\n\n  buildSwiper() {\n    this.swiper = new Swiper(ReactDOM.findDOMNode(this), objectAssign({}, this.props));\n  }\n\n  rebuildSwiper() {\n    this.swiper.destroy(true, true);\n    this.buildSwiper();\n  }\n\n  updateSwiper() {\n    if (typeof this.swiper !== 'undefined') this.swiper.update();\n  }\n\n  renderContent(e) {\n    if (!e) return false;\n\n    const { slideClass, noSwiping } = this.props;\n    const slideClassNames = [slideClass, e.props.className];\n    if (noSwiping) slideClassNames.push('swiper-no-swiping');\n\n    return React.cloneElement(e, {\n      ...e.props,\n      className: slideClassNames.join(' ').trim()\n    });\n  }\n\n  render() {\n    const {\n      ContainerEl,\n      WrapperEl,\n      containerClass,\n      wrapperClass,\n      children,\n      rtl,\n      scrollbar,\n      renderScrollbar,\n      pagination,\n      renderPagination,\n      navigation,\n      renderPrevButton,\n      renderNextButton\n    } = this.props;\n\n    return (\n      <ContainerEl className={containerClass} dir={rtl && 'rtl'}>\n        <WrapperEl className={wrapperClass}>\n          {React.Children.map(children, this.renderContent)}\n        </WrapperEl>\n        {pagination && pagination.el && renderPagination(this.props)}\n        {scrollbar && scrollbar.el && renderScrollbar(this.props)}\n        {navigation && navigation.nextEl && renderNextButton(this.props)}\n        {navigation && navigation.prevEl && renderPrevButton(this.props)}\n      </ContainerEl>\n    );\n  }\n}\n","import React, { Component } from 'react';\r\nimport SongsList from '#/common/songsList';\r\nimport { ajax } from '@/utils';\r\nimport Swiper from '@/plugins/swiper/custom';\r\nimport '@/assets/scss/newSong.scss';\r\n\r\nconst SwiperPage = ({ bannerList }) => {\r\n  const opt = {\r\n    pagination: {\r\n      el: '.swiper-pagination',\r\n      type: 'bullets',\r\n      clickable: true\r\n    }\r\n  };\r\n  if (bannerList.length !== 0) {\r\n    return (\r\n      <Swiper {...opt}>\r\n        {\r\n          bannerList.map((item, index) =>\r\n            <div className=\"item\" key={index}>\r\n              <img src={item.imgurl} alt={item.title} width=\"100%\" height=\"auto\" />\r\n            </div>\r\n          )\r\n        }\r\n      </Swiper>\r\n    );\r\n  } else {\r\n    return '';\r\n  }\r\n};\r\n\r\nclass NewSong extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dataInfo: '',\r\n      bannerList: [],\r\n      recommend: []\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const response = await ajax.get('/km/banner');\r\n    const data = response.data;\r\n    this.setState({\r\n      bannerList: [...(data.banner || [])],\r\n      recommend: [...(data.list || [])]\r\n    });\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"new-songs-wrapper\">\r\n        <div className=\"card-swipe\">\r\n          <SwiperPage bannerList={this.state.bannerList} />\r\n        </div>\r\n        <SongsList\r\n          songsList={this.state.recommend} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewSong;\r\n","import React, { Component } from 'react';\r\nimport { ajax } from '@/utils';\r\nimport { NavLink } from 'react-router-dom';\r\nimport '@/assets/scss/rank.scss';\r\n\r\nclass RankList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rankList: []\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const response = await ajax.get('/km/rank/list');\r\n    const data = response.data;\r\n    let rankList = data.list || [];\r\n    // 转化尺寸\r\n    rankList = rankList.map(item => {\r\n      item.imgurl = item.imgurl.replace('{size}', '400');\r\n      return item;\r\n    });\r\n    this.setState({\r\n      rankList: [...rankList]\r\n    });\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"rank-list-wrapper\">\r\n        <ul className=\"rank-img-list\">\r\n          {\r\n            this.state.rankList.map(item =>\r\n              <li key={item.rankid}>\r\n                <NavLink\r\n                  to={{\r\n                    pathname: `/nrank/info/${item.rankid}`,\r\n                    title: item.rankname,\r\n                    hideTop: true\r\n                  }}>\r\n                  <div className=\"rank-img-left\">\r\n                    <img src={item.imgurl} alt=\"\" />\r\n                  </div>\r\n                  <div className=\"rank-img-content\">\r\n                    <p>{item.rankname}</p>\r\n                  </div>\r\n                  <div className=\"rank-img-right\">\r\n                    <i className=\"rank-img-arrow\"></i>\r\n                  </div>\r\n                </NavLink>\r\n              </li>\r\n            )\r\n          }\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RankList;\r\n","import React, { Component } from 'react';\r\nimport SongsList from '#/common/songsList';\r\nimport { ajax } from '@/utils';\r\nimport { format } from 'date-fns';\r\nimport '@/assets/scss/rank.scss';\r\n\r\nclass RankSongList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rankId: props.match.params.id,\r\n      bannerurl: '',\r\n      songList: [],\r\n      timestamp: 0\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const response = await ajax.get('/km/rank/info', {\r\n      params: {\r\n        rankId: this.state.rankId,\r\n        page: 1,\r\n        json: true\r\n      }\r\n    });\r\n    const data = response.data;\r\n    let songList = data.list || [];\r\n    let timestamp = data.info.timestamp || 0;\r\n    // 转化尺寸\r\n    let bannerurl = data.info.banner7url;\r\n    bannerurl = bannerurl.replace('{size}', '400');\r\n    // 保存\r\n    this.setState({\r\n      bannerurl,\r\n      songList: [...songList],\r\n      timestamp\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"rank-info-wrapper\">\r\n        <div className=\"rank-info-hd\">\r\n          <img src={this.state.bannerurl} alt=\"\"/>\r\n          <div className=\"rank-info-time\">\r\n            <span>上次更新时间：{format(this.state.timestamp * 1000, 'YYYY-MM-DD')}</span>\r\n          </div>\r\n        </div>\r\n        <SongsList\r\n          rank={true}\r\n          songsList={this.state.songList} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RankSongList;\r\n","import React, { Component } from 'react';\r\nimport { ajax } from '@/utils';\r\nimport { NavLink } from 'react-router-dom';\r\nimport '@/assets/scss/plist.scss';\r\n\r\nclass PlistList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      plistList: [],\r\n      page: 1,\r\n      total: 0,\r\n      pagesize: 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getPlistList();\r\n    document.addEventListener('scroll', this.onscroll.bind(this), true);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('scroll', this.onscroll.bind(this), true);\r\n  }\r\n\r\n  async getPlistList() {\r\n    const response = await ajax.get('/km/plist/index', {\r\n      params: {\r\n        page: this.state.page\r\n      }\r\n    });\r\n    const data = response.data;\r\n    let plistList = data.list || [];\r\n    // 转化尺寸\r\n    plistList = plistList.map(item => {\r\n      item.imgurl = item.imgurl.replace('{size}', '400');\r\n      return item;\r\n    });\r\n    // 数据合并\r\n    const concatArr = [...this.state.plistList, ...plistList]\r\n    // 保存数据\r\n    this.setState({\r\n      plistList: [...concatArr],\r\n      total: data.total,\r\n      pagesize: data.pagesize\r\n    });\r\n  }\r\n\r\n  onscroll() {\r\n    //变量scrollTop是滚动条滚动时，距离顶部的距离\r\n    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n    //变量windowHeight是可视区的高度\r\n    const windowHeight = document.documentElement.clientHeight || document.body.clientHeight;\r\n    //变量scrollHeight是滚动条的总高度\r\n    const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;\r\n    //滚动条到底部的条件\r\n    if (scrollTop + windowHeight === scrollHeight) {\r\n      const oldPage = this.state.page;\r\n      const newPage = oldPage + 1;\r\n      // 判断是否获取出了所有数据\r\n      const oldTotal = oldPage * this.state.pagesize;\r\n      if (oldTotal >= this.state.total) return;\r\n      this.setState({\r\n        page: newPage\r\n      }, () => {\r\n        this.getPlistList();\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"plist-list-wrapper\">\r\n        <ul className=\"plist-img-list\">\r\n          {\r\n            this.state.plistList.map((item, index) =>\r\n              <li key={index}>\r\n                <NavLink\r\n                  to={{\r\n                    pathname: `/nplist/list/${item.specialid}`,\r\n                    title: item.specialname\r\n                  }}>\r\n                  <div className=\"plist-img-left\">\r\n                    <img src={item.imgurl} alt=\"\" />\r\n                  </div>\r\n                  <div className=\"plist-img-content\">\r\n                    <p className=\"plist-img-content-first\">{item.specialname}</p>\r\n                    <p className=\"plist-img-content-sub\">\r\n                      <i className=\"icon-music\"></i>\r\n                      {item.playcount}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"plist-img-right\">\r\n                    <i className=\"plist-img-arrow\"></i>\r\n                  </div>\r\n                </NavLink>\r\n              </li>\r\n            )\r\n          }\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlistList;\r\n","import React, { Component } from 'react';\r\nimport SongsList from '#/common/songsList';\r\nimport { ajax } from '@/utils';\r\nimport '@/assets/scss/plist.scss';\r\n\r\nclass PlistSongList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      specialid: props.match.params.id,\r\n      bannerurl: '',\r\n      songList: [],\r\n      plistInfo: {}\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const response = await ajax.get(`/km/plist/list`, {\r\n      params: {\r\n        specialid: this.state.specialid,\r\n        json: true\r\n      }\r\n    });\r\n    const data = response.data;\r\n    let songList = data.list || [];\r\n    let plistInfo = data.info || {};\r\n    // 转化尺寸\r\n    let bannerurl = plistInfo.imgurl;\r\n    bannerurl = bannerurl.replace('{size}', '400');\r\n    // 保存\r\n    this.setState({\r\n      bannerurl,\r\n      songList: [...songList],\r\n      plistInfo: { ...plistInfo }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"rank-info-wrapper\">\r\n        <div className=\"rank-info-hd\">\r\n          <img src={this.state.bannerurl} alt=\"\"/>\r\n        </div>\r\n        <SongsList\r\n          rank={true}\r\n          songsList={this.state.songList} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlistSongList;\r\n","import React, { Component } from 'react';\r\nimport { ajax } from '@/utils';\r\nimport { NavLink } from 'react-router-dom';\r\nimport '@/assets/scss/singer.scss';\r\n\r\nconst ClassListNav = (props) => {\r\n  return (\r\n    <ul className=\"singer-class-list\">\r\n      {\r\n        props.classList.map(item => \r\n          <li key={item.classid}>\r\n            <NavLink\r\n              // to={'/singer/list/'+item.classid+''}>\r\n              to={{\r\n                pathname: `/nsinger/list/${item.classid}`,\r\n                title: item.classname\r\n              }}>\r\n              <i className=\"singer-list-arrow\"></i>\r\n              {item.classname}\r\n            </NavLink>\r\n          </li>\r\n        )\r\n      }\r\n    </ul>\r\n  );\r\n}\r\n\r\nclass SingerClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      classList: []\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const response = await ajax.get('/km/singer/class');\r\n    const data = response.data;\r\n    let classList = data.list;\r\n    let newClassList = [];\r\n    // 处理第一个值\r\n    newClassList.push([classList[0]]);\r\n    classList.splice(0, 1);\r\n    // 向上取整\r\n    const len = classList.length;\r\n    const time = Math.ceil(classList.length / 3);\r\n    for (let i = 0; i < time; i++) {\r\n      let tempArr = [];\r\n      let index = i * 3;\r\n      for (let j = 0; j < 3; j++) {\r\n        if (index + j < len) {\r\n          tempArr.push(classList[index + j]);\r\n        }\r\n      }\r\n      newClassList.push(tempArr);\r\n    }\r\n    this.setState({\r\n      classList: [...newClassList]\r\n    });\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"singer-class-list-wrapper\">\r\n        {\r\n          this.state.classList.map((item, index) => \r\n            <ClassListNav\r\n              key={index}\r\n              classList={item} />\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SingerClass;\r\n","import React, { Component } from 'react';\r\nimport { ajax } from '@/utils';\r\nimport { NavLink } from 'react-router-dom';\r\nimport '@/assets/scss/singer.scss';\r\n\r\nclass SingerList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      classid: props.match.params.id,\r\n      singerList: []\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const response = await ajax.get(`/km/singer/list/`, {\r\n      params: {\r\n        classId: this.state.classid,\r\n        json: true\r\n      }\r\n    });\r\n    const data = response.data;\r\n    let singerList = data.list || [];\r\n    // 转化尺寸\r\n    singerList = singerList.map(item => {\r\n      item.imgurl = item.imgurl.replace('{size}', '400');\r\n      return item;\r\n    });\r\n    this.setState({\r\n      singerList: [...singerList]\r\n    });\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"singer-list-wrapper\">\r\n        <ul className=\"singer-img-list\">\r\n          {\r\n            this.state.singerList.map((item, index) =>\r\n              <li key={index}>\r\n                <NavLink\r\n                  to={{\r\n                    pathname: `/nsinger/info/${item.singerId}`,\r\n                    title: item.singerName,\r\n                    hideTop: true\r\n                  }}>\r\n                  <div className=\"singer-img-left\">\r\n                    <img src={item.imgurl} alt=\"\" />\r\n                  </div>\r\n                  <div className=\"singer-img-content\">\r\n                    <p>{item.singerName}</p>\r\n                  </div>\r\n                  <div className=\"singer-img-right\">\r\n                    <i className=\"singer-img-arrow\"></i>\r\n                  </div>\r\n                </NavLink>\r\n              </li>\r\n            )\r\n          }\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SingerList;\r\n","import React, { Component } from 'react';\r\nimport SongsList from '#/common/songsList';\r\nimport { ajax } from '@/utils';\r\nimport '@/assets/scss/singer.scss';\r\n\r\nclass SingerSongList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      singerid: props.match.params.id,\r\n      bannerurl: '',\r\n      songList: [],\r\n      singerInfo: {},\r\n      page: 1,\r\n      total: 0,\r\n      pagesize: 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getSongsList();\r\n    document.addEventListener('scroll', this.onscroll.bind(this), true);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('scroll', this.onscroll.bind(this), true);\r\n  }\r\n\r\n  async getSongsList() {\r\n    const response = await ajax.get(`/km/singer/info`, {\r\n      params: {\r\n        singerId: this.state.singerid,\r\n        json: true,\r\n        page: this.state.page\r\n      }\r\n    });\r\n    const data = response.data || {};\r\n    let songList = data.list || [];\r\n    let singerInfo = data.info || {};\r\n    // 转化尺寸\r\n    let bannerurl = singerInfo.imgurl || '';\r\n    bannerurl = bannerurl.replace('{size}', '400');\r\n    // 数据合并\r\n    const concatArr = [...this.state.songList, ...songList]\r\n    // 保存\r\n    this.setState({\r\n      bannerurl,\r\n      songList: [...concatArr],\r\n      singerInfo: { ...singerInfo },\r\n      total: data.total,\r\n      pagesize: data.pageSize\r\n    });\r\n  }\r\n\r\n  onscroll() {\r\n    //变量scrollTop是滚动条滚动时，距离顶部的距离\r\n    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n    //变量windowHeight是可视区的高度\r\n    const windowHeight = document.documentElement.clientHeight || document.body.clientHeight;\r\n    //变量scrollHeight是滚动条的总高度\r\n    const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;\r\n    //滚动条到底部的条件\r\n    if (scrollTop + windowHeight === scrollHeight) {\r\n      const oldPage = this.state.page;\r\n      const newPage = oldPage + 1;\r\n      // 判断是否获取出了所有数据\r\n      const oldTotal = oldPage * this.state.pagesize;\r\n      if (oldTotal >= this.state.total) return;\r\n      this.setState({\r\n        page: newPage\r\n      }, () => {\r\n        this.getSongsList();\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"singer-info-wrapper\">\r\n        <div className=\"singer-info-hd\">\r\n          <img src={this.state.bannerurl} alt=\"\"/>\r\n        </div>\r\n        <SongsList\r\n          songsList={this.state.songList} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SingerSongList;\r\n","import React, { Component } from 'react';\r\nimport SongsList from '#/common/songsList';\r\nimport { ajax } from '@/utils';\r\nimport '@/assets/scss/search.scss';\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hotSearchList: [],\r\n      searchResultList: [],\r\n      keyword: '',\r\n      total: 0,\r\n      page: 1\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ keyword: event.target.value });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    // 获取热搜列表\r\n    const response = await ajax.get('/km/search/hot', {\r\n      params: {\r\n        format: 'json',\r\n        plat: 0,\r\n        count: 30\r\n      }\r\n    });\r\n    const data = response.data || {};\r\n    const hotSearchList = data.list || [];\r\n    this.setState({\r\n      hotSearchList\r\n    });\r\n  }\r\n\r\n  // 获取搜索歌曲信息\r\n  async searchSong() {\r\n    // 数据请求\r\n    const response = await ajax.get('/km/search/song', {\r\n      params: {\r\n        page: this.state.page,\r\n        keyword: this.state.keyword\r\n      }\r\n    });\r\n    const data = response.data || {};\r\n    this.setState({\r\n      searchResultList: [...data.list],\r\n      total: data.total\r\n    });\r\n  }\r\n\r\n  // 热搜\r\n  searchHot(index) {\r\n    let keyword = this.state.hotSearchList[index].keyword;\r\n    this.setState({\r\n      keyword: keyword\r\n    }, () => {\r\n      this.searchSong();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const resultLength = this.state.searchResultList.length;\r\n    return (\r\n      <div className=\"search-wrapper\">\r\n        <div className=\"search-box\">\r\n          <div className=\"search-form-box\">\r\n            <form name=\"searchForm\" className=\"search-form\">\r\n              <span className=\"search-icon\"></span>\r\n              <input\r\n                type=\"text\"\r\n                className=\"search-keyword\"\r\n                value={this.state.keyword}\r\n                placeholder=\"歌手/歌名/拼音\"\r\n                onChange={this.handleChange} />\r\n              <input\r\n                type=\"button\"\r\n                className=\"search-btn search-disabled-btn\"\r\n                value=\"搜索\"\r\n                onClick={this.searchSong.bind(this)}/>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"hot-search\"\r\n          style={{\r\n            display: resultLength > 0 ? 'none' : 'block'\r\n          }}>\r\n          <div className=\"hot-search-hd\">最近热门</div>\r\n          <ul className=\"hot-search-list\">\r\n            {\r\n              this.state.hotSearchList.map((item, index) =>\r\n                <li key={index} onClick={this.searchHot.bind(this, index)}>\r\n                  <a className=\"hot-keyword js-hot-keyword\">{item.keyword}</a>\r\n                </li>\r\n              )\r\n            }\r\n          </ul>\r\n        </div>\r\n        <div\r\n          className=\"search-result\"\r\n          style={{\r\n            display: resultLength > 0 ? 'block' : 'none'\r\n          }}>\r\n          <div className=\"search-result-hd\"> 共有37条结果 </div>\r\n          <SongsList\r\n            songsList={this.state.searchResultList} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","/**\r\n * 路由配置\r\n */\r\nimport React from 'react';\r\nimport NewSong from '@/views/newSong/index';\r\nimport RankList from '@/views/rank/index';\r\nimport RankSongList from '@/views/rank/info';\r\nimport PlistList from '@/views/plist/index';\r\nimport PlistSongList from '@/views/plist/info';\r\nimport SingerClass from '@/views/singer/index';\r\nimport SingerList from '@/views/singer/list';\r\nimport SingerSongList from '@/views/singer/info';\r\nimport Search from '@/views/search/index';\r\n\r\nconst navRouter = [\r\n  {\r\n    path: '/',\r\n    name: '新歌',\r\n    component: NewSong,\r\n    model: 1,\r\n    hideTop: false\r\n  },\r\n  {\r\n    path: '/nrank/list',\r\n    name: '排行',\r\n    component: RankList,\r\n    model: 1,\r\n    hideTop: false\r\n  },\r\n  {\r\n    path: '/nplist/index',\r\n    name: '歌单',\r\n    component: PlistList,\r\n    model: 1,\r\n    hideTop: false\r\n  },\r\n  {\r\n    path: '/nsinger/class',\r\n    name: '歌手',\r\n    component: SingerClass,\r\n    model: 1,\r\n    hideTop: false\r\n  }\r\n];\r\n\r\nconst routeConfig = [\r\n  ...navRouter,\r\n  {\r\n    path: '/nrank/info/:id',\r\n    name: '排行榜',\r\n    component: RankSongList,\r\n    model: 2,\r\n    hideTop: true\r\n  },\r\n  {\r\n    path: '/nplist/list/:id',\r\n    name: '歌单',\r\n    component: PlistSongList,\r\n    model: 2,\r\n    hideTop: true\r\n  },\r\n  {\r\n    path: '/nsinger/list/:id',\r\n    name: '歌手列表',\r\n    component: SingerList,\r\n    model: 2,\r\n    hideTop: false\r\n  },\r\n  {\r\n    path: '/nsinger/info/:id',\r\n    name: '歌手信息',\r\n    component: SingerSongList,\r\n    model: 2,\r\n    hideTop: true\r\n  },\r\n  {\r\n    path: '/nsearch/index',\r\n    name: '搜索',\r\n    component: Search,\r\n    model: 2,\r\n    hideTop: false\r\n  }\r\n];\r\n\r\nexport { navRouter, routeConfig };\r\n","import React, { Component } from 'react';\r\nimport { Route, NavLink } from 'react-router-dom';\r\nimport { navRouter, routeConfig } from '@/router';\r\nimport '@/assets/scss/pageHeader.scss';\r\n\r\nconst HeaderNav = () => {\r\n  return (\r\n    <div className=\"header-nav\">\r\n      <ul>\r\n        {\r\n          navRouter.map(item => {\r\n            return (\r\n              <li key={item.path}>\r\n                <NavLink\r\n                  exact\r\n                  to={item.path}\r\n                  activeClassName=\"cur\">\r\n                  {item.name}\r\n                </NavLink>\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HeaderGoBack = (props) => {\r\n  console.log(props);\r\n  const goBack = () => {\r\n    props.history.goBack();\r\n  };\r\n  // 路由匹配\r\n  const path = props.match.path;\r\n  let hideTop = false;\r\n  let title = '';\r\n  routeConfig.forEach(item => {\r\n    if (item.path === path) {\r\n      title = item.name;\r\n      hideTop = item.hideTop;\r\n    }\r\n  });\r\n\r\n  let className = hideTop ? 'header-goback' : 'header-goback header-doback-bg';\r\n  \r\n  return (\r\n    <div className={className}>\r\n      <p className=\"page-title\" id=\"page-title\">{props.location.title||title}</p>\r\n      <div className=\"goback\" onClick={goBack}>\r\n        <i></i>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nclass PageHeader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"header-fixed\">\r\n        <div className=\"top-hd\">\r\n          <NavLink\r\n            to='/'\r\n            className=\"logo\">\r\n            <i>酷猫音乐</i>\r\n          </NavLink>\r\n          <div></div>\r\n          <NavLink\r\n            to='/nsearch/index'\r\n            className=\"btn-search\">\r\n          </NavLink>\r\n        </div>\r\n        {\r\n          routeConfig.map(item => {\r\n            if (item.model === 1) {\r\n              return (<Route exact key={item.path} path={item.path} component={HeaderNav}></Route>);\r\n            } else {\r\n              return (<Route key={item.path} path={item.path} component={HeaderGoBack}></Route>);\r\n            }\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default PageHeader;\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { routeConfig } from '@/router';\r\n\r\n\r\nclass MainContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {...props};\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"main-container-wrapper\">\r\n        {\r\n          routeConfig.map(item => {\r\n            const Component = item.component;\r\n            const style = {\r\n              marginTop: item.hideTop ? '3.4286rem' : '6.67rem'\r\n            };\r\n            return (\r\n              <Route\r\n                exact\r\n                key={item.path}\r\n                path={item.path}\r\n                render={(props) => (\r\n                  <div style={style}>\r\n                    <Component {...props} />\r\n                  </div>\r\n                )} />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MainContainer;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport PageHeader from '#/pageHeader';\nimport MainContainer from '#/mainContainer';\nimport { BrowserRouter } from 'react-router-dom';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  async componentDidMount() {\n  }\n\n  render() {\n    \n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <PageHeader />\n          <MainContainer />\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/scss/reset.scss';\nimport './assets/scss/common.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n"],"sourceRoot":""}